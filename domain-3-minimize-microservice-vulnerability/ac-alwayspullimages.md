
### Create a temporary directory:

```sh
mkdir /tmp/test-pull
```

#### Add the Admission Controller:
```sh
nano /etc/kubernetes/manifests/kube-apiserver.yaml
```
Add following within kube-apiserver manifest to enable admission controller
```sh
AlwaysPullImages
```
```
- --enable-admission-plugins=NodeRestriction,AlwaysPullImages
```
#### POD Manifest:
```sh
nano nginx-test-pull.yaml
```
```sh
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: nginx-test-pull
  name: nginx-test-pull
spec:
  containers:
  - image: nginx
    name: nginx-test-pull
    resources: {}
    imagePullPolicy: IfNotPresent
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: {}
```
```
ansible@nuc01:/tmp/test-pull$ kubectl apply -f nginx-test-pull.yaml 
pod/nginx-test-pull created
ansible@nuc01:/tmp/test-pull$ kubectl describe pod nginx-test-pull | grep -i pull
Name:             nginx-test-pull
Labels:           run=nginx-test-pull
  nginx-test-pull:
  Normal  Scheduled  18s   default-scheduler  Successfully assigned default/nginx-test-pull to node02
  Normal  Pulling    16s   kubelet            Pulling image "nginx"
  Normal  Pulled     14s   kubelet            Successfully pulled image "nginx" in 1.753s (1.753s including waiting). Image size: 72099501 bytes.
  Normal  Created    14s   kubelet            Created container nginx-test-pull
  Normal  Started    14s   kubelet            Started container nginx-test-pull
ansible@nuc01:/tmp/test-pull$ kubectl describe pod nginx-test-pull | grep -i policy
ansible@nuc01:/tmp/test-pull$ cat nginx-test-pull.yaml | grep -i policy
    imagePullPolicy: IfNotPresent
  dnsPolicy: ClusterFirst
  restartPolicy: Always
```